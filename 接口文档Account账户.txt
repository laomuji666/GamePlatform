简介:
该接口文档内容和账户操作有关,请仔细阅读该文档的所有接口说明.

备注:
请求参数不全,返回 "{"id":"-1","str":"未正确提供参数"}"

接口名称:
获取codeKey
接口地址:
/account/code/key
请求方式:
GET/POST
请求参数:
无
返回结果:
codeKey
备注:
无

接口名称:
获取验证码图片
接口地址:
/account/code/picture
请求方式:
GET/POST
请求参数:
codeKey:通过"获取codeKey"接口得到该参数
返回结果:
验证码图片
备注:
通过codeKey获取codePicture

接口名称:
注册账户
接口地址:
/account/register
请求方式:
POST
请求参数:
username:要注册的账号
password:要注册的密码
codeKey:通过"获取codeKey"接口得到该参数
codeStr:验证码字符串
返回结果:
{"id":"0","str":"注册成功"}
{"id":"1","str":"注册失败,该账号已被注册"}
{"id":"2","str":"注册失败,验证码错误"}
{"id":"3","str":"注册失败,账号或密码长度6-16且只能为大小写字母或数字"}
备注:
无

接口名称:
登陆账户
接口地址:
/account/login
请求方式:
POST
请求参数:
username:要注册的账号
password:要注册的密码
codeKey:通过"获取codeKey"接口得到该参数
codeStr:验证码字符串
返回结果:
{"id":"0","str":"onlineKey"}
{"id":"1","str":"登陆失败,账号或密码错误"}
{"id":"2","str":"登陆失败,验证码错误"}
备注:
无

接口名称:
更新在线时间
接口地址:
/account/update
请求方式:
POST
请求参数:
username:账号
onlineKey:通过"登陆账户"接口得到该参数
返回结果:
{"id":"0","str":"在线时间更新成功"}
{"id":"1","str":"在线时间更新失败"}
备注:
有效期30秒,30秒未更新将会判定为离线,移除在线列表.

接口名称:
获取在线信息
接口地址:
/account/online
请求方式:
POST
请求参数:
username:账号
onlineKey:通过"登陆账户"接口得到该参数
返回结果:
"{"id:":"lobbyId","str":"lobbyName"}";
备注:
lobbyId:为0表示未加入任何游戏大厅,非0则表示游戏大厅的id,请查看对应的接口文档
lobbyName:大厅的名称
如果lobbyId非0,则表示可以断线重连

接口名称:
手动离线
接口地址:
/account/offline
请求方式:
POST
请求参数:
username:账号
onlineKey:通过"登陆账户"接口得到该参数
返回结果:
{"id":"0","str":"离线成功"}
{"id":"1","str":"离线失败"}
备注:
手动离线,在线列表将移除用户信息.

接口名称:
获取通知
接口地址:
/notify/get
请求方式:
GET/POST
请求参数:
无
返回结果:
比如公告,更新等消息
备注:
无

接口名称:
设置通知
/notify/set
请求方式:
GET/POST
请求参数:
username:管理员账号
password:管理员密码
data:需要设置的通知
返回结果:
{"id":"0","str":"Notify设置成功"}
{"id":"1","str":"Notify设置失败,请输入正确的管理员账户"}
备注:
仅限管理员使用,普通用户无法请求该接口
